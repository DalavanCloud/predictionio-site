<!DOCTYPE html><html><head><title>Developing Engines with IntelliJ IDEA</title><meta charset="utf-8"/><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta class="swiftype" name="title" data-type="string" content="Developing Engines with IntelliJ IDEA"/><link rel="canonical" href="https://predictionio.apache.org/resources/intellij/"/><link href="/images/favicon/normal-b330020a.png" rel="shortcut icon"/><link href="/images/favicon/apple-c0febcf2.png" rel="apple-touch-icon"/><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet"/><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"/><link href="/stylesheets/application-eccfc6cb.css" rel="stylesheet" type="text/css"/><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script><script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="//use.typekit.net/pqo0itb.js"></script><script>try{Typekit.load({ async: true });}catch(e){}</script></head><body><div id="global"><header><div class="container" id="header-wrapper"><div class="row"><div class="col-sm-12"><div id="logo-wrapper"><span id="drawer-toggle"></span><a href="#"></a><a href="http://predictionio.apache.org/"><img alt="Apache PredictionIO" id="logo" src="/images/logos/logo-ee2b9bb3.png"/></a><span>速</span></div><div id="menu-wrapper"><div id="pill-wrapper"><a class="pill left" href="/gallery/template-gallery">TEMPLATES</a> <a class="pill right" href="//github.com/apache/predictionio/">OPEN SOURCE</a></div></div><img class="mobile-search-bar-toggler hidden-md hidden-lg" src="/images/icons/search-glass-704bd4ff.png"/></div></div></div></header><div id="search-bar-row-wrapper"><div class="container-fluid" id="search-bar-row"><div class="row"><div class="col-md-9 col-sm-11 col-xs-11"><div class="hidden-md hidden-lg" id="mobile-page-heading-wrapper"><p>PredictionIO Docs</p><h4>Developing Engines with IntelliJ IDEA</h4></div><h4 class="hidden-sm hidden-xs">PredictionIO Docs</h4></div><div class="col-md-3 col-sm-1 col-xs-1 hidden-md hidden-lg"><img id="left-menu-indicator" src="/images/icons/down-arrow-dfe9f7fe.png"/></div><div class="col-md-3 col-sm-12 col-xs-12 swiftype-wrapper"><div class="swiftype"><form class="search-form"><img class="search-box-toggler hidden-xs hidden-sm" src="/images/icons/search-glass-704bd4ff.png"/><div class="search-box"><img src="/images/icons/search-glass-704bd4ff.png"/><input type="text" id="st-search-input" class="st-search-input" placeholder="Search Doc..."/></div><img class="swiftype-row-hider hidden-md hidden-lg" src="/images/icons/drawer-toggle-active-fcbef12a.png"/></form></div></div><div class="mobile-left-menu-toggler hidden-md hidden-lg"></div></div></div></div><div id="page" class="container-fluid"><div class="row"><div id="left-menu-wrapper" class="col-md-3"><nav id="nav-main"><ul><li class="level-1"><a class="expandible" href="/"><span>Apache PredictionIO速 Documentation</span></a><ul><li class="level-2"><a class="final" href="/"><span>Welcome to Apache PredictionIO速</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Getting Started</span></a><ul><li class="level-2"><a class="final" href="/start/"><span>A Quick Intro</span></a></li><li class="level-2"><a class="final" href="/install/"><span>Installing Apache PredictionIO</span></a></li><li class="level-2"><a class="final" href="/start/download/"><span>Downloading an Engine Template</span></a></li><li class="level-2"><a class="final" href="/start/deploy/"><span>Deploying Your First Engine</span></a></li><li class="level-2"><a class="final" href="/start/customize/"><span>Customizing the Engine</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Integrating with Your App</span></a><ul><li class="level-2"><a class="final" href="/appintegration/"><span>App Integration Overview</span></a></li><li class="level-2"><a class="expandible" href="/sdk/"><span>List of SDKs</span></a><ul><li class="level-3"><a class="final" href="/sdk/java/"><span>Java & Android SDK</span></a></li><li class="level-3"><a class="final" href="/sdk/php/"><span>PHP SDK</span></a></li><li class="level-3"><a class="final" href="/sdk/python/"><span>Python SDK</span></a></li><li class="level-3"><a class="final" href="/sdk/ruby/"><span>Ruby SDK</span></a></li><li class="level-3"><a class="final" href="/community/projects/#sdks"><span>Community Powered SDKs</span></a></li></ul></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Deploying an Engine</span></a><ul><li class="level-2"><a class="final" href="/deploy/"><span>Deploying as a Web Service</span></a></li><li class="level-2"><a class="final" href="/batchpredict/"><span>Batch Predictions</span></a></li><li class="level-2"><a class="final" href="/deploy/monitoring/"><span>Monitoring Engine</span></a></li><li class="level-2"><a class="final" href="/deploy/engineparams/"><span>Setting Engine Parameters</span></a></li><li class="level-2"><a class="final" href="/deploy/enginevariants/"><span>Deploying Multiple Engine Variants</span></a></li><li class="level-2"><a class="final" href="/deploy/plugin/"><span>Engine Server Plugin</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Customizing an Engine</span></a><ul><li class="level-2"><a class="final" href="/customize/"><span>Learning DASE</span></a></li><li class="level-2"><a class="final" href="/customize/dase/"><span>Implement DASE</span></a></li><li class="level-2"><a class="final" href="/customize/troubleshooting/"><span>Troubleshooting Engine Development</span></a></li><li class="level-2"><a class="final" href="/api/current/#package"><span>Engine Scala APIs</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Collecting and Analyzing Data</span></a><ul><li class="level-2"><a class="final" href="/datacollection/"><span>Event Server Overview</span></a></li><li class="level-2"><a class="final" href="/datacollection/eventapi/"><span>Collecting Data with REST/SDKs</span></a></li><li class="level-2"><a class="final" href="/datacollection/eventmodel/"><span>Events Modeling</span></a></li><li class="level-2"><a class="final" href="/datacollection/webhooks/"><span>Unifying Multichannel Data with Webhooks</span></a></li><li class="level-2"><a class="final" href="/datacollection/channel/"><span>Channel</span></a></li><li class="level-2"><a class="final" href="/datacollection/batchimport/"><span>Importing Data in Batch</span></a></li><li class="level-2"><a class="final" href="/datacollection/analytics/"><span>Using Analytics Tools</span></a></li><li class="level-2"><a class="final" href="/datacollection/plugin/"><span>Event Server Plugin</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Choosing an Algorithm</span></a><ul><li class="level-2"><a class="final" href="/algorithm/"><span>Built-in Algorithm Libraries</span></a></li><li class="level-2"><a class="final" href="/algorithm/switch/"><span>Switching to Another Algorithm</span></a></li><li class="level-2"><a class="final" href="/algorithm/multiple/"><span>Combining Multiple Algorithms</span></a></li><li class="level-2"><a class="final" href="/algorithm/custom/"><span>Adding Your Own Algorithms</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Tuning and Evaluation</span></a><ul><li class="level-2"><a class="final" href="/evaluation/"><span>Overview</span></a></li><li class="level-2"><a class="final" href="/evaluation/paramtuning/"><span>Hyperparameter Tuning</span></a></li><li class="level-2"><a class="final" href="/evaluation/evaluationdashboard/"><span>Evaluation Dashboard</span></a></li><li class="level-2"><a class="final" href="/evaluation/metricchoose/"><span>Choosing Evaluation Metrics</span></a></li><li class="level-2"><a class="final" href="/evaluation/metricbuild/"><span>Building Evaluation Metrics</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>System Architecture</span></a><ul><li class="level-2"><a class="final" href="/system/"><span>Architecture Overview</span></a></li><li class="level-2"><a class="final" href="/system/anotherdatastore/"><span>Using Another Data Store</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>PredictionIO速 Official Templates</span></a><ul><li class="level-2"><a class="final" href="/templates/"><span>Intro</span></a></li><li class="level-2"><a class="expandible" href="#"><span>Recommendation</span></a><ul><li class="level-3"><a class="final" href="/templates/recommendation/quickstart/"><span>Quick Start</span></a></li><li class="level-3"><a class="final" href="/templates/recommendation/dase/"><span>DASE</span></a></li><li class="level-3"><a class="final" href="/templates/recommendation/evaluation/"><span>Evaluation Explained</span></a></li><li class="level-3"><a class="final" href="/templates/recommendation/how-to/"><span>How-To</span></a></li><li class="level-3"><a class="final" href="/templates/recommendation/reading-custom-events/"><span>Read Custom Events</span></a></li><li class="level-3"><a class="final" href="/templates/recommendation/customize-data-prep/"><span>Customize Data Preparator</span></a></li><li class="level-3"><a class="final" href="/templates/recommendation/customize-serving/"><span>Customize Serving</span></a></li><li class="level-3"><a class="final" href="/templates/recommendation/training-with-implicit-preference/"><span>Train with Implicit Preference</span></a></li><li class="level-3"><a class="final" href="/templates/recommendation/blacklist-items/"><span>Filter Recommended Items by Blacklist in Query</span></a></li><li class="level-3"><a class="final" href="/templates/recommendation/batch-evaluator/"><span>Batch Persistable Evaluator</span></a></li></ul></li><li class="level-2"><a class="expandible" href="#"><span>E-Commerce Recommendation</span></a><ul><li class="level-3"><a class="final" href="/templates/ecommercerecommendation/quickstart/"><span>Quick Start</span></a></li><li class="level-3"><a class="final" href="/templates/ecommercerecommendation/dase/"><span>DASE</span></a></li><li class="level-3"><a class="final" href="/templates/ecommercerecommendation/how-to/"><span>How-To</span></a></li><li class="level-3"><a class="final" href="/templates/ecommercerecommendation/train-with-rate-event/"><span>Train with Rate Event</span></a></li><li class="level-3"><a class="final" href="/templates/ecommercerecommendation/adjust-score/"><span>Adjust Score</span></a></li></ul></li><li class="level-2"><a class="expandible" href="#"><span>Similar Product</span></a><ul><li class="level-3"><a class="final" href="/templates/similarproduct/quickstart/"><span>Quick Start</span></a></li><li class="level-3"><a class="final" href="/templates/similarproduct/dase/"><span>DASE</span></a></li><li class="level-3"><a class="final" href="/templates/similarproduct/how-to/"><span>How-To</span></a></li><li class="level-3"><a class="final" href="/templates/similarproduct/multi-events-multi-algos/"><span>Multiple Events and Multiple Algorithms</span></a></li><li class="level-3"><a class="final" href="/templates/similarproduct/return-item-properties/"><span>Returns Item Properties</span></a></li><li class="level-3"><a class="final" href="/templates/similarproduct/train-with-rate-event/"><span>Train with Rate Event</span></a></li><li class="level-3"><a class="final" href="/templates/similarproduct/rid-user-set-event/"><span>Get Rid of Events for Users</span></a></li><li class="level-3"><a class="final" href="/templates/similarproduct/recommended-user/"><span>Recommend Users</span></a></li></ul></li><li class="level-2"><a class="expandible" href="#"><span>Classification</span></a><ul><li class="level-3"><a class="final" href="/templates/classification/quickstart/"><span>Quick Start</span></a></li><li class="level-3"><a class="final" href="/templates/classification/dase/"><span>DASE</span></a></li><li class="level-3"><a class="final" href="/templates/classification/how-to/"><span>How-To</span></a></li><li class="level-3"><a class="final" href="/templates/classification/add-algorithm/"><span>Use Alternative Algorithm</span></a></li><li class="level-3"><a class="final" href="/templates/classification/reading-custom-properties/"><span>Read Custom Properties</span></a></li></ul></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Engine Template Gallery</span></a><ul><li class="level-2"><a class="final" href="/gallery/template-gallery/"><span>Browse</span></a></li><li class="level-2"><a class="final" href="/community/submit-template/"><span>Submit your Engine as a Template</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Demo Tutorials</span></a><ul><li class="level-2"><a class="final" href="/community/projects/#demos"><span>Community Contributed Demo</span></a></li><li class="level-2"><a class="final" href="/demo/textclassification/"><span>Text Classification Engine Tutorial</span></a></li></ul></li><li class="level-1"><a class="expandible" href="/community/"><span>Getting Involved</span></a><ul><li class="level-2"><a class="final" href="/community/contribute-code/"><span>Contribute Code</span></a></li><li class="level-2"><a class="final" href="/community/contribute-documentation/"><span>Contribute Documentation</span></a></li><li class="level-2"><a class="final" href="/community/contribute-sdk/"><span>Contribute a SDK</span></a></li><li class="level-2"><a class="final" href="/community/contribute-webhook/"><span>Contribute a Webhook</span></a></li><li class="level-2"><a class="final" href="/community/projects/"><span>Community Projects</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Getting Help</span></a><ul><li class="level-2"><a class="final" href="/resources/faq/"><span>FAQs</span></a></li><li class="level-2"><a class="final" href="/support/"><span>Support</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Resources</span></a><ul><li class="level-2"><a class="final" href="/cli/"><span>Command-line Interface</span></a></li><li class="level-2"><a class="final" href="/resources/release/"><span>Release Cadence</span></a></li><li class="level-2"><a class="final active" href="/resources/intellij/"><span>Developing Engines with IntelliJ IDEA</span></a></li><li class="level-2"><a class="final" href="/resources/upgrade/"><span>Upgrade Instructions</span></a></li><li class="level-2"><a class="final" href="/resources/glossary/"><span>Glossary</span></a></li></ul></li><li class="level-1"><a class="expandible" href="#"><span>Apache Software Foundation</span></a><ul><li class="level-2"><a class="final" href="https://www.apache.org/"><span>Apache Homepage</span></a></li><li class="level-2"><a class="final" href="https://www.apache.org/licenses/"><span>License</span></a></li><li class="level-2"><a class="final" href="https://www.apache.org/foundation/sponsorship.html"><span>Sponsorship</span></a></li><li class="level-2"><a class="final" href="https://www.apache.org/foundation/thanks.html"><span>Thanks</span></a></li><li class="level-2"><a class="final" href="https://www.apache.org/security/"><span>Security</span></a></li></ul></li></ul></nav></div><div class="col-md-9 col-sm-12"><div class="content-header hidden-md hidden-lg"><div id="breadcrumbs" class="hidden-sm hidden xs"><ul><li><a href="#">Resources</a><span class="spacer">&gt;</span></li><li><span class="last">Developing Engines with IntelliJ IDEA</span></li></ul></div><div id="page-title"><h1>Developing Engines with IntelliJ IDEA</h1></div></div><div id="table-of-content-wrapper"><h5>On this page</h5><aside id="table-of-contents"><ul> <li> <a href="#prerequisites">Prerequisites</a> </li> <li> <a href="#preparing-intellij-for-engine-development">Preparing IntelliJ for Engine Development</a> </li> <li> <a href="#running-and-debugging-in-intellij-idea">Running and Debugging in IntelliJ IDEA</a> </li> </ul> </aside><hr/><a id="edit-page-link" href="https://github.com/apache/predictionio/tree/livedoc/docs/manual/source/resources/intellij.html.md.erb"><img src="/images/icons/edit-pencil-d6c1bb3d.png"/>Edit this page</a></div><div class="content-header hidden-sm hidden-xs"><div id="breadcrumbs" class="hidden-sm hidden xs"><ul><li><a href="#">Resources</a><span class="spacer">&gt;</span></li><li><span class="last">Developing Engines with IntelliJ IDEA</span></li></ul></div><div id="page-title"><h1>Developing Engines with IntelliJ IDEA</h1></div></div><div class="content"> <h2 id='prerequisites' class='header-anchors'>Prerequisites</h2><p>This documentation assumes that you have a fully functional PredictionIO setup. If you have not installed PredictionIO yet, please follow <a href="/install/">these instructions</a>.</p><p>The following instructions have been tested with IntelliJ IDEA 2018.2.2 Community Edition.</p><h2 id='preparing-intellij-for-engine-development' class='header-anchors'>Preparing IntelliJ for Engine Development</h2><h3 id='installing-intellij-scala-plugin' class='header-anchors'>Installing IntelliJ Scala Plugin</h3><p>First of all, you will need to install the <a href="https://plugins.jetbrains.com/plugin/?id=1347">Scala plugin</a> if you have not already done so.</p><p>Go to the <em>Preferences</em> menu item, and look for <em>Plugins</em>. You should see the following screen.</p><p><img alt="IntelliJ Plugins" src="/images/intellij/intelliJ-scala-plugin-43ad9eb2.png"/></p><p>Click <em>Install JetBrains plugin...</em>, the search for <em>Scala</em>. You should arrive at something similar to the following.</p><p><img alt="Scala Plugin" src="/images/intellij/intellij-scala-plugin-2-0edbef71.png"/></p><p>Click the green <em>Install plugin</em> button to install the plugin. Restart IntelliJ IDEA if asked to do so.</p><h3 id='setting-up-the-engine-directory' class='header-anchors'>Setting Up the Engine Directory</h3><p>Create an engine directory from a template. This requires that you download a template that you wish to start from or modify.</p><p>Follow template <a href="/start/download">install</a> and <a href="/start/deploy">deploy</a> instructions or go through the <a href="/templates/recommendation/quickstart/">Quick Start</a> if you are planning to modify a recommender. Make sure to build, train, and deploy the engine to make sure all is configured properly.</p><p>From IntelliJ IDEA, choose <em>File</em> &gt; <em>New</em> &gt; <em>Project from Existing Sources...</em>. When asked to select a directory to import, browse to the engine directory that you downloaded too and proceed. Make sure you pick <em>Import project from external model</em> &gt; <em>SBT</em>, then proceed to finish.</p><p>You should be able to build the project at this point. To run and debug your template, continue on to the rest of the steps.</p><h3 id='optional:-issues-with-snappy-on-macos' class='header-anchors'>Optional: Issues with Snappy on macOS</h3><p>If you are running on macOS and run into the following <a href="http://bit.ly/12Abtvn">known issue</a>, follow steps in this section.</p><p>Edit <code>build.sbt</code> and add the following under <code>libraryDependencies</code></p><div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="s2">"org.xerial.snappy"</span> % <span class="s2">"snappy-java"</span> % <span class="s2">"1.1.1.7"</span>
</pre></td></tr></tbody></table> </div> <p><img alt="Updating build.sbt" src="/images/intellij/intellij-buildsbt-05cfd141.png"/></p><p>When you are done editing, IntelliJ should prompt you to import new changes, unless you have already enabled auto import. Import this change to make it effective.</p><h3 id='module-settings' class='header-anchors'>Module Settings</h3><div class="alert-message info"><p>IntelliJ will recreate module settings whenever it imports changes of your project. You will need to repeat this section whenever that happens.</p></div><p>Due to the way how <code>pio</code> command sources required classes during runtime, it is necessary to add them manually in module settings for <em>Run/Debug Configurations</em> to work properly.</p><p>Right click on the project and click <em>Open Module Settings</em>. Hit the <strong>+</strong> button right below the list of dependencies, and select <em>JARs or directories...</em>.</p><p>The first JAR that you need to add is the <code>pio-assembly-0.13.0.jar</code> that contains all necessary classes. It can be found inside the <code>dist/lib</code> directory of your PredictionIO source installation directory (if you have built from sources) or the <code>lib</code> directory of your PredictionIO binary installation directory.</p><p>Next, you will need to make sure some configuration files from your PredictionIO installation can be found during runtime. Add the <code>conf</code> directory of your PredictionIO installation directory. When asked about categories of the directory, pick <em>Classes</em>.</p><p>Finally, you will need to add storage classes. The exact list of JARs that you will need to add depends on your storage configuration. These JARs can be found inside the <code>dist/lib/spark</code> directory of your PredictionIO source installation directory (if you have built from sources) or the <code>lib/spark</code> directory of your PredictionIO binary installation directory.</p> <ul> <li><p> <code>pio-data-elasticsearch-assembly-0.13.0.jar</code></p><p>Add this JAR if your configuration uses Elasticsearch.</p></li> <li><p> <code>pio-data-hbase-assembly-0.13.0.jar</code></p><p>Add this JAR if your configuration uses Apache HBase.</p></li> <li><p> <code>pio-data-hdfs-assembly-0.13.0.jar</code></p><p>Add this JAR if your configuration uses HDFS.</p></li> <li><p> <code>pio-data-jdbc-assembly-0.13.0.jar</code></p><p>Add this JAR if your configuration uses JDBC. Notice that you must also add any additional JDBC driver JARs.</p></li> <li><p> <code>pio-data-localfs-assembly-0.13.0.jar</code></p><p>Add this JAR if your configuration uses local filesystem.</p></li> <li><p> <code>pio-data-s3-assembly-0.13.0.jar</code></p><p>Add this JAR if your configuration uses Amazon Web Services S3.</p></li> </ul> <p>Make sure to change all these additions to <em>Runtime</em> scope. The following shows an example that uses the JDBC storage backend with PostgreSQL driver.</p><p><img alt="Example module settings for a JDBC and PostgreSQL configuration" src="/images/intellij/intellij-module-settings-fb88b688.png"/></p><h2 id='running-and-debugging-in-intellij-idea' class='header-anchors'>Running and Debugging in IntelliJ IDEA</h2><h3 id='simulating-<code>pio-train</code>' class='header-anchors' >Simulating <code>pio train</code></h3><p>Create a new <em>Run/Debug Configuration</em> by going to <em>Run</em> &gt; <em>Edit Configurations...</em>. Click on the <strong>+</strong> button and select <em>Application</em>. Name it <code>pio train</code> and put in the following:</p> <ul> <li><p> Main class:</p><div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>org.apache.predictionio.workflow.CreateWorkflow
</pre></td></tr></tbody></table> </div></li> <li><p> VM options:</p><div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>-Dspark.master<span class="o">=</span><span class="nb">local</span> -Dlog4j.configuration<span class="o">=</span>file:/&lt;your_pio_path&gt;/conf/log4j.properties -Dpio.log.dir<span class="o">=</span>&lt;path_of_log_file&gt;
</pre></td></tr></tbody></table> </div></li> <li><p> Program arguments:</p><div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>--engine-id dummy --engine-version dummy --engine-variant engine.json --env <span class="nv">dummy</span><span class="o">=</span>dummy
</pre></td></tr></tbody></table> </div></li> </ul> <p>Make sure <em>Working directory</em> is set to the base directory of the template that you are working on.</p><p>Click the folder button to the right of <em>Environment variables</em>, and paste the relevant values from <code>conf/pio-env.sh</code> in your PredictionIO installation directory. The following shows an example using JDBC and PostgreSQL.</p><p><img alt="Example environment variables settings" src="/images/intellij/pio-train-env-vars-36b4c5bd.png"/></p><p>Make sure <em>Include dependencies with &quot;Provided&quot; scope</em> is checked.</p><p>The end result should look something similar to this.</p><p><img alt="Run Configuration" src="/images/intellij/pio-train-e4117867.png"/></p><p>Save and you can run or debug <code>pio train</code> with the new configuration!</p><h3 id='simulating-<code>pio-deploy</code>' class='header-anchors' >Simulating <code>pio deploy</code></h3><p>For <code>pio deploy</code>, simply duplicate the previous configuration and replace with the following.</p> <ul> <li><p> Main class:</p><div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>org.apache.predictionio.workflow.CreateServer
</pre></td></tr></tbody></table> </div></li> <li><p> Program Arguments:</p><div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>--engineInstanceId &lt;id_from_pio_train&gt; --engine-variant engine.json
</pre></td></tr></tbody></table> </div></li> </ul> <h3 id='executing-a-query' class='header-anchors'>Executing a Query</h3><p>You can execute a query with the correct SDK. For a recommender that has been trained with the sample MovieLens dataset perhaps the easiest query is a <code>curl</code> one. Start by running or debugging your <code>pio deploy</code> config so the service is waiting for the query. Then go to the &quot;Terminal&quot; tab at the very bottom of the IntelliJ IDEA window and enter the <code>curl</code> request:</p><div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{ "user": "1", "num": 4 }'</span> http://localhost:8000/queries.json
</pre></td></tr></tbody></table> </div> <p>This should return something like:</p><div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="o">{</span><span class="s2">"itemScores"</span>:[
  <span class="o">{</span><span class="s2">"item"</span>:<span class="s2">"52"</span>,<span class="s2">"score"</span>:9.582509402541834<span class="o">}</span>,
  <span class="o">{</span><span class="s2">"item"</span>:<span class="s2">"95"</span>,<span class="s2">"score"</span>:8.017236650368387<span class="o">}</span>,
  <span class="o">{</span><span class="s2">"item"</span>:<span class="s2">"89"</span>,<span class="s2">"score"</span>:6.975951244053634<span class="o">}</span>,
  <span class="o">{</span><span class="s2">"item"</span>:<span class="s2">"34"</span>,<span class="s2">"score"</span>:6.857457277981334<span class="o">}</span>
<span class="o">]}</span>
</pre></td></tr></tbody></table> </div> <div class="alert-message info"><p>If you hit a breakpoint you are likely to get a connection timeout. To see the data that would have been returned, just place a breakpoint where the response is created or run the query with no breakpoints.</p></div></div></div></div></div><footer><div class="container"><div class="seperator"></div><div class="row"><div class="col-md-6 footer-link-column"><div class="footer-link-column-row"><h4>Community</h4><ul><li><a href="//predictionio.apache.org/install/" target="blank">Download</a></li><li><a href="//predictionio.apache.org/" target="blank">Docs</a></li><li><a href="//github.com/apache/predictionio" target="blank">GitHub</a></li><li><a href="mailto:user-subscribe@predictionio.apache.org" target="blank">Subscribe to User Mailing List</a></li><li><a href="//stackoverflow.com/questions/tagged/predictionio" target="blank">Stackoverflow</a></li></ul></div></div><div class="col-md-6 footer-link-column"><div class="footer-link-column-row"><h4>Contribute</h4><ul><li><a href="//predictionio.apache.org/community/contribute-code/" target="blank">Contribute</a></li><li><a href="//github.com/apache/predictionio" target="blank">Source Code</a></li><li><a href="//issues.apache.org/jira/browse/PIO" target="blank">Bug Tracker</a></li><li><a href="mailto:dev-subscribe@predictionio.apache.org" target="blank">Subscribe to Development Mailing List</a></li></ul></div></div></div><div class="row"><div class="col-md-12 footer-link-column"><p>Apache PredictionIO, PredictionIO, Apache, the Apache feather logo, and the Apache PredictionIO project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p><p>All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p></div></div></div><div id="footer-bottom"><div class="container"><div class="row"><div class="col-md-12"><div id="footer-logo-wrapper"><img alt="PredictionIO" src="/images/logos/logo-white-d1e9c6e6.png"/><span>速</span></div><div id="social-icons-wrapper"><a class="github-button" href="https://github.com/apache/predictionio" data-icon="octicon-star" data-show-count="true" aria-label="Star apache/predictionio on GitHub">Star</a> <a class="github-button" href="https://github.com/apache/predictionio/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork apache/predictionio on GitHub">Fork</a> <script id="github-bjs" async="" defer="" src="https://buttons.github.io/buttons.js"></script><a href="https://twitter.com/predictionio" target="blank"><img alt="PredictionIO on Twitter" src="/images/icons/twitter-ea9dc152.png"/></a> <a href="https://www.facebook.com/predictionio" target="blank"><img alt="PredictionIO on Facebook" src="/images/icons/facebook-5c57939c.png"/></a> </div></div></div></div></div></footer></div><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

_st('install','HaUfpXXV87xoB_zzCQ45');</script><script src="/javascripts/application-d943a254.js"></script></body></html>